<div class="page-wrapper">
  <div class="chat-container">
    <div class="chat-header">
      <div class="chat-header-icon">
        <span class="material-icons">smart_toy</span>
      </div>
      <div class="chat-header-text">
        <h2>Assistant Virtuel</h2>
        <p>Comment puis-je vous aider aujourd'hui ?</p>
      </div>
    </div>

    <div class="messages-container">
      <div *ngFor="let msg of messages" [ngClass]="{'user-msg': msg.sender==='user', 'bot-msg': msg.sender==='bot'}">
        {{ msg.text }}
      </div>

      <!-- Indicateur de frappe -->
      <div class="typing-indicator" *ngIf="loading">
        <span>Assistant Ã©crit</span>
        <div class="typing-dot"></div>
        <div class="typing-dot"></div>
        <div class="typing-dot"></div>
      </div>
    </div>

    <form [formGroup]="chatForm" (ngSubmit)="sendMessage()" class="chat-form">
      <input type="text" formControlName="question" placeholder="Tapez votre question..." [disabled]="loading" />
      <button type="submit" [disabled]="loading || chatForm.invalid">
        {{ loading ? '...' : 'Envoyer' }}
      </button>
    </form>
  </div>
</div>
