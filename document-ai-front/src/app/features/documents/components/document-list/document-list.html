<div class="document-list-container bg-white from-slate-50 to-gray-100 min-h-screen">
  <!-- Filter Component -->
  <app-document-filter
    [filterData]="filterData"
    (filterChange)="onFilterChange($event)"
    (addDocument)="onAddDocument()">
  </app-document-filter>

  <!-- Loading state -->
  @if (loading) {
    <div class="flex flex-col justify-center items-center py-20">
      <mat-spinner color="primary" [diameter]="48"></mat-spinner>
      <p class="mt-4 text-gray-600 font-medium">Loading documents...</p>
    </div>
  }

  <!-- Empty state -->
  @if (!loading && filteredDocuments.length === 0) {
    <div class="text-center py-20 px-6">
      No Document Found
    </div>
  }

  <!-- Ajouter Button - pushed to the right -->
  <div class="w-full flex">
    <button
      class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-gray-900 text-white shadow hover:bg-gray-800 h-10 px-4 py-2 ml-auto"
      (click)="openAddDocumentDialog()"
      >
      <span class="material-icons mr-2 h-4 w-4">add</span>
      Ajouter
    </button>
  </div>

  <!-- Document grid -->
  @if (!loading && filteredDocuments.length > 0) {
    <div class="p-6 pb-12 pt-12">
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-6">
        @for (document of filteredDocuments; track trackByDocumentId($index, document)) {
          <app-document-card
            [document]="document"
            (edit)="onEditDocument($event)"
            (delete)="onDeleteDocument($event)"
            (download)="onDownloadDocument($event)"
            class="transform transition-all duration-300 hover:scale-105 hover:shadow-xl hover:-translate-y-1">
          </app-document-card>
        }
      </div>
    </div>
  }

  <!-- Floating action button for mobile -->
  <button
    (click)="onAddDocument()"
    class="fixed bottom-6 right-6 inline-flex items-center justify-center whitespace-nowrap rounded-full text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 h-14 w-14 bg-gray-900 text-white shadow-xl hover:shadow-2xl transition-all duration-200 md:hidden">
    <span class="material-icons">add</span>
  </button>

  <!-- Angular Material Pagination -->
  @if (!loading && filteredDocuments.length > 0) {
    <div class="mb-6 flex justify-center items-center mt-8">
      <mat-paginator
        [length]="totalDocuments"
        [pageSize]="pageSize"
        [pageSizeOptions]="[5, 10, 25, 100]"
        [pageIndex]="currentPage - 1"
        (page)="onPageChange($event)"
        aria-label="Select page">
      </mat-paginator>
    </div>
  }
</div>
